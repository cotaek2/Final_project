<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD config 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ezen.dteam.mapper.movieMapper">
	<select id="selectMovieDetail" parameterType="String" resultType="CinemaVO" >
		SELECT * FROM cinema WHERE cno = #{value}
	</select>
	<select id="selectReplyCno" parameterType="String" resultType="CinemaReplyVO">
		select cr.*, m.mnickNm from cinemaReply cr 
		inner join member m on cr.mno = m.mno 
		where cno = #{value}
	</select>
	<insert id="insertReply" parameterType="CinemaReplyVO">
		insert into cinemaReply (ccmtContent, ccmtRdate,ccmtDelyn,cno,mno) 
		values (#{ccmtContent}, now(), 0, #{cno}, #{mno});
	</insert>
	<update id="updateReply" parameterType="CinemaReplyVO">
		UPDATE cinemaReply
		SET ccmtContent = #{ccmtContent}, ccmtRdate = NOW() 
		where ccmtno = #{ccmtno}
	</update>
	<delete id="deleteReply" parameterType="String">
		delete from cinemaReply where ccmtno = #{value}
	</delete>
</mapper>